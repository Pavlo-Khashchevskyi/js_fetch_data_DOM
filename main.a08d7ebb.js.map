{"version":3,"sources":["scripts/main.js"],"names":["url","phoneList","document","querySelector","infoImg","loader","info","about","getPhones","fetch","then","response","ok","setTimeout","hidden","json","alert","status","statusText","createList","phones","map","phone","dataSrc","imageUrl","insertAdjacentHTML","id","snippet","src","textContent","children","classList","add","addEventListener","e","item","target","closest","itemUnderline","remove","dataset"],"mappings":";AAAA,aAEA,IAAMA,EAAM,wEAENC,EAAYC,SAASC,cAAc,gBACnCC,EAAUF,SAASC,cAAc,cACjCE,EAASH,SAASC,cAAc,WAChCG,EAAOJ,SAASC,cAAc,SAC9BI,EAAQL,SAASC,cAAc,gBAE/BK,EAAY,WACTC,OAAAA,MAAMT,GACVU,KAAK,SAAAC,GACA,GAACA,EAASC,GAWLD,OALPE,WAAW,WACTR,EAAOS,QAAS,EAChBR,EAAKQ,QAAS,GACb,KAEIH,EAASI,OAVhBF,WAAW,WAEHG,MADNX,EAAOS,QAAS,EACVE,MAASL,GAAAA,OAAAA,EAASM,OAAYN,OAAAA,OAAAA,EAASO,YAAc,WAC1D,QAYX,SAASC,EAAWC,GAClBA,EAAOC,IAAI,SAAAC,GACHC,IAAAA,EAAU,yDACXD,GAAAA,OAAAA,EAAME,UAEXvB,EAAUwB,mBAAmB,aAGhBH,wDAAAA,OAAAA,EAAMI,GACLH,uBAAAA,OAAAA,EACCD,wBAAAA,OAAAA,EAAMK,QAClBL,YAAAA,OAAAA,EAAMI,GANT,kBAWJlB,IACGE,KAAK,SAAAU,GACJD,EAAWC,GAEXhB,EAAQwB,IAAM,kCACgBR,0BAAAA,OAAAA,EAAO,GAAGI,UACxCjB,EAAMsB,YAAcT,EAAO,GAAGO,QAC9B1B,EAAU6B,SAAS,GAAGC,UAAUC,IAAI,eAGxC/B,EAAUgC,iBAAiB,QAAS,SAACC,GAC7BC,IAAAA,EAAOD,EAAEE,OAAOC,QAAQ,gBACxBC,EAAgBrC,EAAUE,cAAc,cAE1CmC,GACFA,EAAcP,UAAUQ,OAAO,aAEjClC,EAAOS,QAAS,EAChBR,EAAKQ,QAAS,EAEdD,WAAW,WACTsB,EAAKJ,UAAUC,IAAI,aACnB5B,EAAQwB,IAAMO,EAAKK,QAAQZ,IAC3BrB,EAAMsB,YAAcM,EAAKK,QAAQlC,KACjCD,EAAOS,QAAS,EAChBR,EAAKQ,QAAS,GACb","file":"main.a08d7ebb.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst url = 'https://mate-academy.github.io/phone'\n  + '-catalogue-static/api/phones.json';\nconst phoneList = document.querySelector('.phone__list');\nconst infoImg = document.querySelector('.info__img');\nconst loader = document.querySelector('.loader');\nconst info = document.querySelector('.info');\nconst about = document.querySelector('.info__about');\n\nconst getPhones = () => {\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        setTimeout(() => {\n          loader.hidden = true;\n          throw alert(`${response.status} - ${response.statusText || 'error'}`);\n        }, 5000);\n      } else {\n        setTimeout(() => {\n          loader.hidden = true;\n          info.hidden = false;\n        }, 500);\n\n        return response.json();\n      }\n    });\n};\n\nfunction createList(phones) {\n  phones.map(phone => {\n    const dataSrc = `https://mate-academy.github.io/phone-catalogue-static/`\n    + `${phone.imageUrl}`;\n\n    phoneList.insertAdjacentHTML('afterbegin', `\n    <li\n      class=\"phone__item\"\n      data-id=\"${phone.id}\"\n      data-src=\"${dataSrc}\"\n      data-info=\"${phone.snippet}\"\n    >${phone.id}</li>\n    `);\n  });\n}\n\ngetPhones()\n  .then(phones => {\n    createList(phones);\n\n    infoImg.src = 'https://mate-academy.github.io/'\n      + `phone-catalogue-static/${phones[0].imageUrl}`;\n    about.textContent = phones[0].snippet;\n    phoneList.children[0].classList.add('underline');\n  });\n\nphoneList.addEventListener('click', (e) => {\n  const item = e.target.closest('.phone__item');\n  const itemUnderline = phoneList.querySelector('.underline');\n\n  if (itemUnderline) {\n    itemUnderline.classList.remove('underline');\n  }\n  loader.hidden = false;\n  info.hidden = true;\n\n  setTimeout(() => {\n    item.classList.add('underline');\n    infoImg.src = item.dataset.src;\n    about.textContent = item.dataset.info;\n    loader.hidden = true;\n    info.hidden = false;\n  }, 300);\n});\n"]}